# $mod = Alt
set $mod Mod1

# define variables
set $browser 'firefox'
set $term     'urxvt'
set $scripts  '~/.config/i3/scripts'

# Set fonts
font pango:System San Francisco Display, FontAwesome 13

# Use Mouse+$mod to drag floating windows
floating_modifier $mod

# reload the configuration file
bindsym $mod+Shift+r reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+Ctrl+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"


#############################
# WINDOW FOCUS AND MOVEMENT #
#############################

## change focus
# vim keys:
bindsym $mod+h     focus left
bindsym $mod+j     focus down
bindsym $mod+k     focus up
bindsym $mod+l     focus right
# cursor keys:
bindsym $mod+Left  focus left
bindsym $mod+Down  focus down
bindsym $mod+Up    focus up
bindsym $mod+Right focus right

## move focused window
# vim keys:
bindsym $mod+Shift+h     move left
bindsym $mod+Shift+j     move down
bindsym $mod+Shift+k     move up
bindsym $mod+Shift+l     move right
# cursor keys:
bindsym $mod+Shift+Left  move left
bindsym $mod+Shift+Down  move down
bindsym $mod+Shift+Up    move up
bindsym $mod+Shift+Right move right

## resize focused window
# vim keys:
bindsym $mod+control+h     resize shrink width 10 px or 10 ppt
bindsym $mod+control+j     resize grow height 10 px or 10 ppt
bindsym $mod+control+k     resize shrink height 10 px or 10 ppt
bindsym $mod+control+l     resize grow width 10 px or 10 ppt
# cursor keys:
bindsym $mod+control+Left  resize shrink width 10 px or 10 ppt
bindsym $mod+control+Down  resize grow height 10 px or 10 ppt
bindsym $mod+control+Up    resize shrink height 10 px or 10 ppt
bindsym $mod+control+Right resize grow width 10 px or 10 ppt

# kill focused window
bindsym $mod+Shift+q kill


##################
# LAYOUT CONTROL #
##################

## split direction
# horizontally
bindsym $mod+b split h
# vertically
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent
# focus the child container
bindsym $mod+d focus child


##############
# WORKSPACES #
##############

# wokspace names
set $workspace1  "1: "
set $workspace2  "2: "
set $workspace3  "3: "
set $workspace4  "4: "
set $workspace5  "5"
set $workspace6  "6"
set $workspace7  "7"
set $workspace8  "8"
set $workspace9  "9"
set $workspace10 "10"

# switch to last used workspace
bindsym $mod+Tab workspace back_and_forth

# switch to workspace
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace10


####################
# DROPDOWN WINDOWS #
####################

# scratchpad terminal
for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] resize set 825 600
for_window [instance="dropdown"] move position center
for_window [instance="dropdown"] move scratchpad
exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog dropdown "tmuxinator scratchpad"
bindsym $mod+u exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog dropdown "tmuxinator scratchpad"

# bc scratchpad
for_window [instance="math"] floating enable
for_window [instance="math"] resize set 825 600
for_window [instance="math"] move position center
for_window [instance="math"] move scratchpad
exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog math "bc"
bindsym $mod+Shift+m exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog math "bc"

# ranger scratchpad
for_window [instance="files"] floating enable
for_window [instance="files"] resize set 825 600
for_window [instance="files"] move position center
for_window [instance="files"] move scratchpad
exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog files "ranger /home/micah"
bindsym $mod+r exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog files "ranger /home/micah"


#################
# TERMINAL APPS #
#################

# start mutt in floating window
for_window [instance="email"] floating enable
for_window [instance="email"] resize set 825 600
for_window [instance="email"] move position center
for_window [instance="email"] move scratchpad
bindsym $mod+m exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog email "mutt"

# start khal in floating window
for_window [instance="cal"] floating enable
for_window [instance="cal"] resize set 825 600
for_window [instance="cal"] move position center
for_window [instance="cal"] move scratchpad
bindsym $mod+c exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog cal "ikhal"

# start ddgr in floating window
for_window [instance="ddgr"] floating enable
for_window [instance="ddgr"] resize set 825 600
for_window [instance="ddgr"] move position center
for_window [instance="ddgr"] move scratchpad
bindsym $mod+Shift+d exec --no-startup-id zsh /home/micah/.config/i3/scripts/cliprog ddgr "ddgr -n 8"

# start rtv
bindsym $mod+Shift+v exec --no-startup-id $term -e /home/micah/.config/i3/scripts/runner "rtv"

# start newsbeuter
bindsym $mod+n exec --no-startup-id $term -e /home/micah/.config/i3/scripts/runner "newsbeuter"

###################
# CUSTOM CONTROLS #
###################

# keyboard layout toggle
bindsym $mod+Control+space exec "~/.config/polybar/scripts/toggleKeyboard"

# lock screen
bindsym $mod+Shift+x exec "~/.config/i3/scripts/lock/lock.sh ~/.config/i3/scripts/lock/lock.png"

# volume keys
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -D pulse sset Master 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -D pulse sset Master 5%-
bindsym XF86AudioMute        exec --no-startup-id amixer -D pulse sset Master toggle

# brightness keys
bindsym XF86MonBrightnessUp   exec xbacklight -inc 10
bindsym XF86MonBrightnessDown exec xbacklight -dec 10

## screenshot keys
# fullscreen
bindsym Print       exec --no-startup-id scrot '%Y-%m-%d_%H:%M:%S_screenshot.png'
# current window
bindsym Shift+Print exec --no-startup-id scrot -u '%Y-%m-%d_%H:%M:%S_screenshot.png'


#########################
# APPLICATION LAUNCHERS #
#########################

# dmenu launcher
bindsym $mod+Shift+Return exec --no-startup-id j4-dmenu-desktop --dmenu="dmenu -i -nb '$inactive-bg-color' -nf '$inactive-text-color' -sb '$bg-color' -sf '$text-color' -fn 'System San Francisco Display-13'"

# terminal
bindsym $mod+Control+Return exec $term

# google play music
bindsym $mod+Shift+g workspace $workspace4; exec $term -e ~/.config/i3/scripts/runner "tmuxinator music"

# browser
bindsym $mod+Shift+w exec --no-startup-id $browser


########################
# AUTORUN APPLICATIONS #
########################

# browser
exec --no-startup-id $browser
# skype
exec --no-startup-id skypeforlinux
# google play music
exec --no-startup-id i3-msg 'workspace $workspace4; exec $term -e ~/.config/i3/scripts/runner "tmuxinator music"; workspace $workspace1'
# terminal
exec --no-startup-id i3-msg 'workspace $workspace2; exec $term; workspace $workspace1'

# application placements
assign [class="Google-chrome"] $workspace1
assign [class="Firefox"] $workspace1
assign [class="Skype"] $workspace3
assign [class="Google Play Music Desktop Player"] $workspace4

# remove urgency of opened applications
exec --no-startup-id ~/.config/i3/scripts/deurgent


###############
# LOOK & FEEL #
###############

new_window pixel 3

# colors
set $bg-color 	         #2f343f
set $inactive-bg-color   #2f343f
set $text-color          #f3f4f5
set $inactive-text-color #676E7D
set $urgent-bg-color     #E53935

# window colors         border              background         text                 indicator
client.focused          $bg-color           $bg-color          $text-color          $bg-color
client.unfocused        $inactive-bg-color  $inactive-bg-color $inactive-text-color $inactive-bg-color
client.focused_inactive $inactive-bg-color  $inactive-bg-color $inactive-text-color $inactive-bg-color
client.urgent           $urgent-bg-color    $urgent-bg-color   $text-color          $urgent-bg-color

# status bar
exec_always --no-startup-id ~/.config/polybar/launch.sh

# set wallpaper
exec_always --no-startup-id feh --bg-scale ~/data/Pictures/Wallpapers/abstract-wallpaper-2.jpg

# start compositor
exec --no-startup-id compton -f

# hide edge borders
hide_edge_borders both
